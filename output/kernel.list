
/Users/lee/code/embedded/armv8-hello/output/kernel.elf:     file format elf64-littleaarch64


Disassembly of section .text:

0000000040010000 <_start>:
    40010000:	580001c4 	ldr	x4, 40010038 <other_cpu+0x8>
    40010004:	52800205 	mov	w5, #0x10                  	// #16
    40010008:	b9002485 	str	w5, [x4, #36]
    4001000c:	52986005 	mov	w5, #0xc300                	// #49920
    40010010:	320000a5 	orr	w5, w5, #0x1
    40010014:	b9003085 	str	w5, [x4, #48]
    40010018:	d53800a0 	mrs	x0, mpidr_el1
    4001001c:	f2400c1f 	tst	x0, #0xf
    40010020:	54000081 	b.ne	40010030 <other_cpu>  // b.any

0000000040010024 <boot_cpu>:
    40010024:	90087f80 	adrp	x0, 51000000 <STACKTOP>
    40010028:	9100001f 	mov	sp, x0
    4001002c:	14000005 	b	40010040 <main>

0000000040010030 <other_cpu>:
    40010030:	14000000 	b	40010030 <other_cpu>
    40010034:	00000000 	.inst	0x00000000 ; undefined
    40010038:	09000000 	.word	0x09000000
    4001003c:	00000000 	.word	0x00000000

0000000040010040 <main>:
    40010040:	a9bf7bfd 	stp	x29, x30, [sp, #-16]!
    40010044:	910003fd 	mov	x29, sp
    40010048:	90000000 	adrp	x0, 40010000 <_start>
    4001004c:	91108000 	add	x0, x0, #0x420
    40010050:	940000dd 	bl	400103c4 <uart_put_line>
    40010054:	90000000 	adrp	x0, 40010000 <_start>
    40010058:	9110a000 	add	x0, x0, #0x428
    4001005c:	940000da 	bl	400103c4 <uart_put_line>
    40010060:	52809a40 	mov	w0, #0x4d2                 	// #1234
    40010064:	9400005b 	bl	400101d0 <uart_put_int32>
    40010068:	528001e0 	mov	w0, #0xf                   	// #15
    4001006c:	94000038 	bl	4001014c <uart_put_hex32>
    40010070:	d28001e0 	mov	x0, #0xf                   	// #15
    40010074:	94000011 	bl	400100b8 <uart_put_hex64>
    40010078:	14000000 	b	40010078 <main+0x38>

000000004001007c <uart_put_char>:
    4001007c:	d10043ff 	sub	sp, sp, #0x10
    40010080:	39003fe0 	strb	w0, [sp, #15]
    40010084:	d503201f 	nop
    40010088:	d2800300 	mov	x0, #0x18                  	// #24
    4001008c:	f2a12000 	movk	x0, #0x900, lsl #16
    40010090:	b9400000 	ldr	w0, [x0]
    40010094:	121b0000 	and	w0, w0, #0x20
    40010098:	7100001f 	cmp	w0, #0x0
    4001009c:	54ffff61 	b.ne	40010088 <uart_put_char+0xc>  // b.any
    400100a0:	d2a12000 	mov	x0, #0x9000000             	// #150994944
    400100a4:	39403fe1 	ldrb	w1, [sp, #15]
    400100a8:	b9000001 	str	w1, [x0]
    400100ac:	d503201f 	nop
    400100b0:	910043ff 	add	sp, sp, #0x10
    400100b4:	d65f03c0 	ret

00000000400100b8 <uart_put_hex64>:
    400100b8:	a9bd7bfd 	stp	x29, x30, [sp, #-48]!
    400100bc:	910003fd 	mov	x29, sp
    400100c0:	f9000fa0 	str	x0, [x29, #24]
    400100c4:	90000000 	adrp	x0, 40010000 <_start>
    400100c8:	9110c000 	add	x0, x0, #0x430
    400100cc:	f90013a0 	str	x0, [x29, #32]
    400100d0:	52800600 	mov	w0, #0x30                  	// #48
    400100d4:	97ffffea 	bl	4001007c <uart_put_char>
    400100d8:	52800f00 	mov	w0, #0x78                  	// #120
    400100dc:	97ffffe8 	bl	4001007c <uart_put_char>
    400100e0:	52800780 	mov	w0, #0x3c                  	// #60
    400100e4:	b9002fa0 	str	w0, [x29, #44]
    400100e8:	14000011 	b	4001012c <uart_put_hex64+0x74>
    400100ec:	b9402fa0 	ldr	w0, [x29, #44]
    400100f0:	f9400fa1 	ldr	x1, [x29, #24]
    400100f4:	9ac02820 	asr	x0, x1, x0
    400100f8:	92400c00 	and	x0, x0, #0xf
    400100fc:	f94013a1 	ldr	x1, [x29, #32]
    40010100:	8b000020 	add	x0, x1, x0
    40010104:	39400000 	ldrb	w0, [x0]
    40010108:	97ffffdd 	bl	4001007c <uart_put_char>
    4001010c:	b9402fa0 	ldr	w0, [x29, #44]
    40010110:	7100801f 	cmp	w0, #0x20
    40010114:	54000061 	b.ne	40010120 <uart_put_hex64+0x68>  // b.any
    40010118:	52800400 	mov	w0, #0x20                  	// #32
    4001011c:	97ffffd8 	bl	4001007c <uart_put_char>
    40010120:	b9402fa0 	ldr	w0, [x29, #44]
    40010124:	51001000 	sub	w0, w0, #0x4
    40010128:	b9002fa0 	str	w0, [x29, #44]
    4001012c:	b9402fa0 	ldr	w0, [x29, #44]
    40010130:	7100001f 	cmp	w0, #0x0
    40010134:	54fffdca 	b.ge	400100ec <uart_put_hex64+0x34>  // b.tcont
    40010138:	52800140 	mov	w0, #0xa                   	// #10
    4001013c:	97ffffd0 	bl	4001007c <uart_put_char>
    40010140:	d503201f 	nop
    40010144:	a8c37bfd 	ldp	x29, x30, [sp], #48
    40010148:	d65f03c0 	ret

000000004001014c <uart_put_hex32>:
    4001014c:	a9bd7bfd 	stp	x29, x30, [sp, #-48]!
    40010150:	910003fd 	mov	x29, sp
    40010154:	b9001fa0 	str	w0, [x29, #28]
    40010158:	90000000 	adrp	x0, 40010000 <_start>
    4001015c:	9110c000 	add	x0, x0, #0x430
    40010160:	f90013a0 	str	x0, [x29, #32]
    40010164:	52800600 	mov	w0, #0x30                  	// #48
    40010168:	97ffffc5 	bl	4001007c <uart_put_char>
    4001016c:	52800f00 	mov	w0, #0x78                  	// #120
    40010170:	97ffffc3 	bl	4001007c <uart_put_char>
    40010174:	52800380 	mov	w0, #0x1c                  	// #28
    40010178:	b9002fa0 	str	w0, [x29, #44]
    4001017c:	1400000d 	b	400101b0 <uart_put_hex32+0x64>
    40010180:	b9402fa0 	ldr	w0, [x29, #44]
    40010184:	b9401fa1 	ldr	w1, [x29, #28]
    40010188:	1ac02820 	asr	w0, w1, w0
    4001018c:	2a0003e0 	mov	w0, w0
    40010190:	92400c00 	and	x0, x0, #0xf
    40010194:	f94013a1 	ldr	x1, [x29, #32]
    40010198:	8b000020 	add	x0, x1, x0
    4001019c:	39400000 	ldrb	w0, [x0]
    400101a0:	97ffffb7 	bl	4001007c <uart_put_char>
    400101a4:	b9402fa0 	ldr	w0, [x29, #44]
    400101a8:	51001000 	sub	w0, w0, #0x4
    400101ac:	b9002fa0 	str	w0, [x29, #44]
    400101b0:	b9402fa0 	ldr	w0, [x29, #44]
    400101b4:	7100001f 	cmp	w0, #0x0
    400101b8:	54fffe4a 	b.ge	40010180 <uart_put_hex32+0x34>  // b.tcont
    400101bc:	52800140 	mov	w0, #0xa                   	// #10
    400101c0:	97ffffaf 	bl	4001007c <uart_put_char>
    400101c4:	d503201f 	nop
    400101c8:	a8c37bfd 	ldp	x29, x30, [sp], #48
    400101cc:	d65f03c0 	ret

00000000400101d0 <uart_put_int32>:
    400101d0:	a9bb7bfd 	stp	x29, x30, [sp, #-80]!
    400101d4:	910003fd 	mov	x29, sp
    400101d8:	b9001fa0 	str	w0, [x29, #28]
    400101dc:	b9401fa0 	ldr	w0, [x29, #28]
    400101e0:	b9004fa0 	str	w0, [x29, #76]
    400101e4:	b9004bbf 	str	wzr, [x29, #72]
    400101e8:	b9404fa1 	ldr	w1, [x29, #76]
    400101ec:	528ccce0 	mov	w0, #0x6667                	// #26215
    400101f0:	72acccc0 	movk	w0, #0x6666, lsl #16
    400101f4:	9b207c20 	smull	x0, w1, w0
    400101f8:	d360fc00 	lsr	x0, x0, #32
    400101fc:	13027c02 	asr	w2, w0, #2
    40010200:	131f7c20 	asr	w0, w1, #31
    40010204:	4b000042 	sub	w2, w2, w0
    40010208:	2a0203e0 	mov	w0, w2
    4001020c:	531e7400 	lsl	w0, w0, #2
    40010210:	0b020000 	add	w0, w0, w2
    40010214:	531f7800 	lsl	w0, w0, #1
    40010218:	4b000022 	sub	w2, w1, w0
    4001021c:	12001c41 	and	w1, w2, #0xff
    40010220:	b9404ba0 	ldr	w0, [x29, #72]
    40010224:	11000402 	add	w2, w0, #0x1
    40010228:	b9004ba2 	str	w2, [x29, #72]
    4001022c:	1100c021 	add	w1, w1, #0x30
    40010230:	12001c22 	and	w2, w1, #0xff
    40010234:	93407c00 	sxtw	x0, w0
    40010238:	9100a3a1 	add	x1, x29, #0x28
    4001023c:	38206822 	strb	w2, [x1, x0]
    40010240:	b9404fa0 	ldr	w0, [x29, #76]
    40010244:	528ccce1 	mov	w1, #0x6667                	// #26215
    40010248:	72acccc1 	movk	w1, #0x6666, lsl #16
    4001024c:	9b217c01 	smull	x1, w0, w1
    40010250:	d360fc21 	lsr	x1, x1, #32
    40010254:	13027c21 	asr	w1, w1, #2
    40010258:	131f7c00 	asr	w0, w0, #31
    4001025c:	4b000020 	sub	w0, w1, w0
    40010260:	b9004fa0 	str	w0, [x29, #76]
    40010264:	b9404fa0 	ldr	w0, [x29, #76]
    40010268:	7100001f 	cmp	w0, #0x0
    4001026c:	54fffbe1 	b.ne	400101e8 <uart_put_int32+0x18>  // b.any
    40010270:	14000008 	b	40010290 <uart_put_int32+0xc0>
    40010274:	b9404ba0 	ldr	w0, [x29, #72]
    40010278:	51000400 	sub	w0, w0, #0x1
    4001027c:	b9004ba0 	str	w0, [x29, #72]
    40010280:	b9804ba0 	ldrsw	x0, [x29, #72]
    40010284:	9100a3a1 	add	x1, x29, #0x28
    40010288:	38606820 	ldrb	w0, [x1, x0]
    4001028c:	97ffff7c 	bl	4001007c <uart_put_char>
    40010290:	b9404ba0 	ldr	w0, [x29, #72]
    40010294:	7100001f 	cmp	w0, #0x0
    40010298:	54fffeec 	b.gt	40010274 <uart_put_int32+0xa4>
    4001029c:	52800140 	mov	w0, #0xa                   	// #10
    400102a0:	97ffff77 	bl	4001007c <uart_put_char>
    400102a4:	d503201f 	nop
    400102a8:	a8c57bfd 	ldp	x29, x30, [sp], #80
    400102ac:	d65f03c0 	ret

00000000400102b0 <uart_put_int64>:
    400102b0:	a9b37bfd 	stp	x29, x30, [sp, #-208]!
    400102b4:	910003fd 	mov	x29, sp
    400102b8:	f9000fa0 	str	x0, [x29, #24]
    400102bc:	f9400fa0 	ldr	x0, [x29, #24]
    400102c0:	b900cba0 	str	w0, [x29, #200]
    400102c4:	b900cfbf 	str	wzr, [x29, #204]
    400102c8:	14000037 	b	400103a4 <uart_put_int64+0xf4>
    400102cc:	b940cba2 	ldr	w2, [x29, #200]
    400102d0:	528ccce0 	mov	w0, #0x6667                	// #26215
    400102d4:	72acccc0 	movk	w0, #0x6666, lsl #16
    400102d8:	9b207c40 	smull	x0, w2, w0
    400102dc:	d360fc00 	lsr	x0, x0, #32
    400102e0:	13027c01 	asr	w1, w0, #2
    400102e4:	131f7c40 	asr	w0, w2, #31
    400102e8:	4b000021 	sub	w1, w1, w0
    400102ec:	2a0103e0 	mov	w0, w1
    400102f0:	531e7400 	lsl	w0, w0, #2
    400102f4:	0b010000 	add	w0, w0, w1
    400102f8:	531f7800 	lsl	w0, w0, #1
    400102fc:	4b000041 	sub	w1, w2, w0
    40010300:	b980cfa0 	ldrsw	x0, [x29, #204]
    40010304:	d37ef400 	lsl	x0, x0, #2
    40010308:	910123a2 	add	x2, x29, #0x48
    4001030c:	b8206841 	str	w1, [x2, x0]
    40010310:	b940cba0 	ldr	w0, [x29, #200]
    40010314:	528ccce1 	mov	w1, #0x6667                	// #26215
    40010318:	72acccc1 	movk	w1, #0x6666, lsl #16
    4001031c:	9b217c01 	smull	x1, w0, w1
    40010320:	d360fc21 	lsr	x1, x1, #32
    40010324:	13027c21 	asr	w1, w1, #2
    40010328:	131f7c00 	asr	w0, w0, #31
    4001032c:	4b000020 	sub	w0, w1, w0
    40010330:	b900cba0 	str	w0, [x29, #200]
    40010334:	b980cfa0 	ldrsw	x0, [x29, #204]
    40010338:	d37ef400 	lsl	x0, x0, #2
    4001033c:	910123a1 	add	x1, x29, #0x48
    40010340:	b8606820 	ldr	w0, [x1, x0]
    40010344:	12001c00 	and	w0, w0, #0xff
    40010348:	1100c000 	add	w0, w0, #0x30
    4001034c:	12001c02 	and	w2, w0, #0xff
    40010350:	b980cfa0 	ldrsw	x0, [x29, #204]
    40010354:	9100a3a1 	add	x1, x29, #0x28
    40010358:	38206822 	strb	w2, [x1, x0]
    4001035c:	b940cba0 	ldr	w0, [x29, #200]
    40010360:	7100001f 	cmp	w0, #0x0
    40010364:	540001a1 	b.ne	40010398 <uart_put_int64+0xe8>  // b.any
    40010368:	b940cfa0 	ldr	w0, [x29, #204]
    4001036c:	11000400 	add	w0, w0, #0x1
    40010370:	93407c00 	sxtw	x0, w0
    40010374:	9100a3a1 	add	x1, x29, #0x28
    40010378:	52800142 	mov	w2, #0xa                   	// #10
    4001037c:	38206822 	strb	w2, [x1, x0]
    40010380:	b940cfa0 	ldr	w0, [x29, #204]
    40010384:	11000800 	add	w0, w0, #0x2
    40010388:	93407c00 	sxtw	x0, w0
    4001038c:	9100a3a1 	add	x1, x29, #0x28
    40010390:	3820683f 	strb	wzr, [x1, x0]
    40010394:	14000007 	b	400103b0 <uart_put_int64+0x100>
    40010398:	b940cfa0 	ldr	w0, [x29, #204]
    4001039c:	11000400 	add	w0, w0, #0x1
    400103a0:	b900cfa0 	str	w0, [x29, #204]
    400103a4:	b940cfa0 	ldr	w0, [x29, #204]
    400103a8:	71007c1f 	cmp	w0, #0x1f
    400103ac:	54fff90d 	b.le	400102cc <uart_put_int64+0x1c>
    400103b0:	9100a3a0 	add	x0, x29, #0x28
    400103b4:	94000004 	bl	400103c4 <uart_put_line>
    400103b8:	d503201f 	nop
    400103bc:	a8cd7bfd 	ldp	x29, x30, [sp], #208
    400103c0:	d65f03c0 	ret

00000000400103c4 <uart_put_line>:
    400103c4:	a9bd7bfd 	stp	x29, x30, [sp, #-48]!
    400103c8:	910003fd 	mov	x29, sp
    400103cc:	f9000fa0 	str	x0, [x29, #24]
    400103d0:	b9002fbf 	str	wzr, [x29, #44]
    400103d4:	14000009 	b	400103f8 <uart_put_line+0x34>
    400103d8:	b9802fa0 	ldrsw	x0, [x29, #44]
    400103dc:	f9400fa1 	ldr	x1, [x29, #24]
    400103e0:	8b000020 	add	x0, x1, x0
    400103e4:	39400000 	ldrb	w0, [x0]
    400103e8:	97ffff25 	bl	4001007c <uart_put_char>
    400103ec:	b9402fa0 	ldr	w0, [x29, #44]
    400103f0:	11000400 	add	w0, w0, #0x1
    400103f4:	b9002fa0 	str	w0, [x29, #44]
    400103f8:	b9802fa0 	ldrsw	x0, [x29, #44]
    400103fc:	f9400fa1 	ldr	x1, [x29, #24]
    40010400:	8b000020 	add	x0, x1, x0
    40010404:	39400000 	ldrb	w0, [x0]
    40010408:	7100001f 	cmp	w0, #0x0
    4001040c:	54fffe61 	b.ne	400103d8 <uart_put_line+0x14>  // b.any
    40010410:	d503201f 	nop
    40010414:	a8c37bfd 	ldp	x29, x30, [sp], #48
    40010418:	d65f03c0 	ret
